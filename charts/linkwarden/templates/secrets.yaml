{{- if (not .Values.linkwarden.nextAuthSecret.existingSecret.name) -}}
{{- /* 
NextAuth secret
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.nextAuth" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  token: {{ .Values.linkwarden.nextAuthSecret.value | b64enc | quote }}
{{- end }}
---
{{- if or
    (and (not .Values.linkwarden.data.s3.accessKey.existingSecret.name) (not .Values.linkwarden.data.s3.secretKey.existingSecret.name))
    (and .Values.linkwarden.data.s3.accessKey.value .Values.linkwarden.data.s3.secretKey.value)
}}
{{- /* 
S3 Bucket credentials secret
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.s3" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  accessKey: {{ .Values.linkwarden.data.s3.accessKey.value | b64enc | quote }}
  secretKey: {{ .Values.linkwarden.data.s3.secretKey.value | b64enc | quote }}
{{- end }}
---
{{- if not .Values.linkwarden.database.existingSecret.name -}}
{{- /* 
Database URI secret
*/}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.db" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  uri: {{ include "linkwarden.db.uri" . | b64enc | quote }}
{{- end }}
---
{{- /* 
  Authentication secrets
*/}}
{{- if and .Values.linkwarden.auth.sso.42school.enabled (not .Values.linkwarden.auth.sso.42school.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.42school" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.42school.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.42school.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.apple.enabled (not .Values.linkwarden.auth.sso.apple.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.apple" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.apple.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.apple.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.atlassian.enabled (not .Values.linkwarden.auth.sso.atlassian.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.atlassian" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.atlassian.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.atlassian.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.auth0.enabled (not .Values.linkwarden.auth.sso.auth0.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.auth0" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.auth0.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.auth0.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.authentik.enabled (not .Values.linkwarden.auth.sso.authentik.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.authentik" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.authentik.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.authentik.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.battleNet.enabled (not .Values.linkwarden.auth.sso.battleNet.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.battleNet" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.battleNet.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.battleNet.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.box.enabled (not .Values.linkwarden.auth.sso.box.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.box" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.box.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.box.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.bungie.enabled (not .Values.linkwarden.auth.sso.bungie.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.bungie" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.bungie.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.bungie.clientSecret | b64enc | quote }}
  apiKey: {{ .Values.linkwarden.auth.sso.bungie.apiKey | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.cognito.enabled (not .Values.linkwarden.auth.sso.cognito.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.cognito" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.cognito.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.cognito.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.coinbase.enabled (not .Values.linkwarden.auth.sso.coinbase.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.coinbase" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.coinbase.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.coinbase.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.discord.enabled (not .Values.linkwarden.auth.sso.discord.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.discord" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.discord.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.discord.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.dropbox.enabled (not .Values.linkwarden.auth.sso.dropbox.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.dropbox" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.dropbox.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.dropbox.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.duende6.enabled (not .Values.linkwarden.auth.sso.duende6.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.duende6" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.duende6.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.duende6.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.eve.enabled (not .Values.linkwarden.auth.sso.eve.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.eve" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.eve.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.eve.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.facebook.enabled (not .Values.linkwarden.auth.sso.facebook.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.facebook" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.facebook.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.facebook.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.faceit.enabled (not .Values.linkwarden.auth.sso.faceit.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.faceit" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.faceit.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.faceit.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.freshbooks.enabled (not .Values.linkwarden.auth.sso.freshbooks.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.freshbooks" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.freshbooks.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.freshbooks.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.foursquare.enabled (not .Values.linkwarden.auth.sso.foursquare.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.foursquare" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.foursquare.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.foursquare.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.fusionauth.enabled (not .Values.linkwarden.auth.sso.fusionauth.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.fusionauth" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.fusionauth.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.fusionauth.clientSecret | b64enc | quote }}
  tenantId: {{ .Values.linkwarden.auth.sso.fusionauth.tenantId | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.github.enabled (not .Values.linkwarden.auth.sso.github.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.github" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.github.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.github.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.gitlab.enabled (not .Values.linkwarden.auth.sso.gitlab.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.gitlab" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.gitlab.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.gitlab.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.google.enabled (not .Values.linkwarden.auth.sso.google.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.google" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.google.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.google.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.hubspot.enabled (not .Values.linkwarden.auth.sso.hubspot.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.hubspot" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.hubspot.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.hubspot.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.duende4.enabled (not .Values.linkwarden.auth.sso.duende4.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.duende4" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.duende4.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.duende4.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.kakao.enabled (not .Values.linkwarden.auth.sso.kakao.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.kakao" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.kakao.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.kakao.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.keycloak.enabled (not .Values.linkwarden.auth.sso.keycloak.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.keycloak" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.keycloak.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.keycloak.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.line.enabled (not .Values.linkwarden.auth.sso.line.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.line" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.line.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.line.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.linkedIn.enabled (not .Values.linkwarden.auth.sso.linkedIn.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.linkedIn" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.linkedIn.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.linkedIn.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.mailchimp.enabled (not .Values.linkwarden.auth.sso.mailchimp.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.mailchimp" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.mailchimp.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.mailchimp.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.mailru.enabled (not .Values.linkwarden.auth.sso.mailru.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.mailru" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.mailru.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.mailru.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.keycloak.enabled (not .Values.linkwarden.auth.sso.keycloak.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.keycloak" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.keycloak.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.keycloak.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.naver.enabled (not .Values.linkwarden.auth.sso.naver.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.naver" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.naver.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.naver.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.netlify.enabled (not .Values.linkwarden.auth.sso.netlify.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.netlify" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.netlify.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.netlify.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.okta.enabled (not .Values.linkwarden.auth.sso.okta.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.okta" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.okta.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.okta.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.onelogin.enabled (not .Values.linkwarden.auth.sso.onelogin.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.onelogin" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.onelogin.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.onelogin.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.osso.enabled (not .Values.linkwarden.auth.sso.osso.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.osso" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.osso.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.osso.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.osu.enabled (not .Values.linkwarden.auth.sso.osu.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.osu" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.osu.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.osu.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.patreon.enabled (not .Values.linkwarden.auth.sso.patreon.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.patreon" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.patreon.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.patreon.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.pinterest.enabled (not .Values.linkwarden.auth.sso.pinterest.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.pinterest" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.pinterest.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.pinterest.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.pipedrive.enabled (not .Values.linkwarden.auth.sso.pipedrive.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.pipedrive" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.pipedrive.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.pipedrive.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.reddit.enabled (not .Values.linkwarden.auth.sso.reddit.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.reddit" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.reddit.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.reddit.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.salesforce.enabled (not .Values.linkwarden.auth.sso.salesforce.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.salesforce" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.salesforce.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.salesforce.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.slack.enabled (not .Values.linkwarden.auth.sso.slack.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.slack" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.slack.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.slack.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.spotify.enabled (not .Values.linkwarden.auth.sso.spotify.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.spotify" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.spotify.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.spotify.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.strava.enabled (not .Values.linkwarden.auth.sso.strava.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.strava" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.strava.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.strava.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.todoist.enabled (not .Values.linkwarden.auth.sso.todoist.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.todoist" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.todoist.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.todoist.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.twitch.enabled (not .Values.linkwarden.auth.sso.twitch.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.twitch" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.twitch.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.twitch.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.unitedEffects.enabled (not .Values.linkwarden.auth.sso.unitedEffects.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.unitedEffects" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.unitedEffects.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.unitedEffects.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.vk.enabled (not .Values.linkwarden.auth.sso.vk.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.vk" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.vk.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.vk.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.wikimedia.enabled (not .Values.linkwarden.auth.sso.wikimedia.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.wikimedia" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.wikimedia.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.wikimedia.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.wordpress.enabled (not .Values.linkwarden.auth.sso.wordpress.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.wordpress" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.wordpress.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.wordpress.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.yandex.enabled (not .Values.linkwarden.auth.sso.yandex.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.yandex" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.yandex.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.yandex.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.zitadel.enabled (not .Values.linkwarden.auth.sso.zitadel.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.zitadel" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.zitadel.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.zitadel.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.zoho.enabled (not .Values.linkwarden.auth.sso.zoho.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.zoho" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.zoho.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.zoho.clientSecret | b64enc | quote }}
{{- end }}
---
{{- if and .Values.linkwarden.auth.sso.zoom.enabled (not .Values.linkwarden.auth.sso.zoom.existingSecret) -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "linkwarden.secrets.auth.zoom" . }}
  namespace: {{ .Release.Namespace }}
  labels:
    app.kubernetes.io/component: linkwarden
    {{ include "linkwarden.labels" $ | nindent 4 }}
type: Opaque
data:
  clientId: {{ .Values.linkwarden.auth.sso.zoom.clientId | b64enc | quote }}
  clientSecret: {{ .Values.linkwarden.auth.sso.zoom.clientSecret | b64enc | quote }}
{{- end }}
---